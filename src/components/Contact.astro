---
const email = "leprofmx@gmail.com";
---

<section id="contact" class="py-32 px-6 md:px-12 lg:px-24">
  <div class="container mx-auto max-w-5xl">
    <div class="border-t border-off-white/10 pt-16">
      <h2 id="contact-title" class="text-sm uppercase tracking-ultra-wide text-off-white/40 mb-16">
        Bookings / Collaborations
      </h2>

      <div class="space-y-12">
        <a
          href={`mailto:${email}`}
          class="block text-4xl md:text-5xl lg:text-6xl font-light text-off-white hover:text-accent transition-colors"
        >
          {email}
        </a>

        <div>
          <a
            id="inquiry-link"
            href={`mailto:${email}`}
            class="inline-flex items-center gap-3 text-off-white/60 hover:text-accent transition-colors group"
          >
            <span id="inquiry-text" class="text-sm uppercase tracking-wider">Send Inquiry</span>
            <svg
              class="w-4 h-4 group-hover:translate-x-1 transition-transform"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<footer class="py-12 px-6 md:px-12 lg:px-24 border-t border-off-white/10">
  <div class="container mx-auto max-w-5xl">
    <p class="text-off-white/30 text-xs uppercase tracking-wider">
      Â© {new Date().getFullYear()} <span id="footer-text">All rights reserved</span>
    </p>
  </div>
</footer>

<script>
  import { getInitialLanguage, getTranslations } from '../lib/i18n';
  import type { Language } from '../lib/i18n';

  const email = "leprofmx@gmail.com";
  let currentLanguage: Language = getInitialLanguage();

  function updateContactTranslations() {
    const t = getTranslations(currentLanguage);

    const titleEl = document.getElementById('contact-title');
    const inquiryTextEl = document.getElementById('inquiry-text');
    const inquiryLinkEl = document.getElementById('inquiry-link');
    const footerTextEl = document.getElementById('footer-text');

    if (titleEl) titleEl.textContent = t.contact.title;
    if (inquiryTextEl) inquiryTextEl.textContent = t.contact.sendInquiry;
    if (footerTextEl) footerTextEl.textContent = t.contact.footer;

    if (inquiryLinkEl) {
      const mailtoLink = `mailto:${email}?subject=${encodeURIComponent(t.contact.emailSubject)}&body=${encodeURIComponent(t.contact.emailBody)}`;
      inquiryLinkEl.setAttribute('href', mailtoLink);
    }
  }

  window.addEventListener('languagechange', ((e: CustomEvent) => {
    currentLanguage = e.detail.language;
    updateContactTranslations();
  }) as EventListener);

  updateContactTranslations();
</script>
